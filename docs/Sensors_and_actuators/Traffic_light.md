# 交通燈模組

![pic_70](images/Traffic_Light_0.jpg)
## 簡介
交通燈模組裝有3粒不同顏色的LED燈,分別為紅色,黃色和綠色,和真實生活中的交通燈一樣。當接收不同的PWM訊號,就能控制其輸出不同顏色的組合。
<P>


## 原理
![auto_fit](images/Traffic_Light_1.png)
目前普遍交通燈模組都使用共陽極方式操作,這種方法比較直觀及易於使用,但壞處是需要一共4端子去控制(3訊號端及1共地端)。當使用一些只有少量輸出端子的開發板的時候,這3個訊號端會占用大量端子。<BR>
如果使用PWM方式去進行操作,即只需1個訊號端就可以控制3粒LED,在進行一些迷你的設計時更為適合。<P>
![pic_70](images/Traffic_Light_2.png)

使用PWM訊號可以代表「平均電壓輸出」,或是「多少百份比的工作週期」。這交通燈模組利用「工作週期」的方法控制交通燈。當輸入的PWM訊號週期不同,交通燈就會按照其百份比去決定交通燈的亮燈方式。<P>

## 規格
* 操作電壓: 3.3V ~ 5V
* 介面: 數位 PWM

工作週期:<BR>

|工作週期(%)|燈光|
|--|--|
|<5|關: 紅 黃 綠|
|5~12.5|亮: 綠<BR>關: 紅 黃|
|12.5~25|亮: 黃<BR>關: 紅 綠|
|25~37.5|亮: 黃 綠<BR>關: 紅|
|37.5~50|亮: 紅<BR>關: 黃 綠|
|50~62.5|亮: 紅 綠<BR>關: 黃|
|62.5~75|亮: 紅 黃<BR>關: 綠|
|>75|亮: 紅 黃 綠|

## 針腳

|針腳|功能|
|--|--|
|G|接地|
|V|電源供應|
|S|訊號輸入(PWM)|

## 外觀及大小
![pic_70](images/Traffic_Light_3.png)

大小: 25mm X 45mm

## 快速指引

* 把交通燈模組連接到開發板(使用連接線)
![auto_fit](images/Traffic_Light_4.png)<P>

* 打開Makecode, 使用https://github.com/smarthon/pxt-smartcity 擴展<P>
![auto_fit](images/Traffic_Light_5.png)<P>

* 提供相應的訊號
![auto_fit](images/Traffic_Light_6.png)

## 結果
交通燈會交替開燈及關燈
![pic_70](images/Traffic_Light_7.gif)

## FAQ

Q: 為什麼交通燈不受控制?<BR>
A:檢查輸入的PWM訊號是否合符工作週期要求,並且不要過於急速切換狀態,兩種狀態切換之間至少等待1秒。



